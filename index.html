<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Jogos de Descarte Consciente</title>
<style>
body { 
    font-family:"Comic Sans MS",Arial,sans-serif; 
    text-align:center; 
    background: linear-gradient(rgba(255,255,255,0.2), rgba(255,255,255,0.2)), url('sua-imagem.jpg'); 
    background-repeat: no-repeat;
    background-size: cover;         
    background-position: center;    
    color:#023E8A;
    margin:0; 
    padding:0; 
}
header { 
    background: rgba(0,121,107,0.85); 
    padding:20px; 
    color:white; 
    font-size:24px; 
    font-weight:bold; 
    border-bottom-left-radius:10px;
    border-bottom-right-radius:10px;
}
h1, h2 { color:#023E8A; margin-top:20px; }
h1 { font-size:32px; }
h2 { font-size:28px; }
button { 
    padding:12px 25px; margin:10px; font-size:18px; cursor:pointer; 
    border-radius:12px; border:none; background: #4CAF50; color:white; transition:0.3s; 
}
button:hover { background: #388E3C; }
#menu button { display:block; margin:20px auto; width:60%; }
#login, #quiz, #memoria, #corrida, #ranking { 
    max-width:500px; margin:20px auto; padding:20px; 
    background: rgba(202,240,248,0.85); border-radius:15px; 
    box-shadow:0 4px 10px rgba(0,0,0,0.3); color:#023E8A; 
}
input { padding:12px; font-size:16px; border-radius:10px; border:2px solid #00796B; margin-bottom:15px; width:90%; }

/* Quiz */
.quiz-question { background: rgba(168,218,220,0.85); color:#023E8A; padding:15px; margin:15px 0; border-radius:12px; font-weight:bold; box-shadow:0 4px 8px rgba(0,0,0,0.2); }
.quiz-option { background:#4CAF50; color:white; padding:10px 15px; margin:8px 0; border-radius:10px; cursor:pointer; display:block; text-align:center; transition:0.3s; }
.quiz-option:hover { background:#388E3C; }

/* Mem√≥ria */
.cart { display:inline-block; width:100px; height:100px; line-height:100px; margin:10px; cursor:pointer; font-size:18px; border-radius:12px; text-align:center; background: rgba(168,218,220,0.85); color:#023E8A; transition:0.3s; box-shadow:0 4px 6px rgba(0,0,0,0.2); }
.cart.correct { background:green; color:white; }
.cart.wrong { background:red; color:white; }

/* Corrida (palavras caindo) */
#itens-corrida { 
    position: relative; 
    height: 300px; 
    background: rgba(168,218,220,0.85); 
    border-radius:10px; 
    overflow: hidden; 
    margin-top:20px; 
    width:100%; 
    max-width:500px; 
    margin-left:auto; 
    margin-right:auto;
    border:2px solid #023E8A;
}
#itens-corrida .cart {
    display:inline-block;
    width:auto;
    padding:5px 10px;
    height:auto;
    min-width:60px;
    line-height:1.2;
    font-size:16px;
    margin:5px;
    cursor:pointer;
    border-radius:8px;
    text-align:center;
    background: rgba(168,218,220,0.95);
    color:#023E8A;
    box-shadow:0 2px 4px rgba(0,0,0,0.2);
    position:absolute;
}
#pontuacao-corrida, #tempo-corrida, #erros-corrida { font-weight:bold; margin-top:15px; color:#023E8A; }

/* Ranking */
#ranking ul { list-style:none; padding:0; }
#ranking li { 
    margin:5px 0; 
    font-weight:bold; 
    padding:5px 10px; 
    border-radius:8px; 
    transition:0.5s;
}
#ranking li.top1 { background:#FFD700; color:#000; }   
#ranking li.top2 { background:#C0C0C0; color:#000; }   
#ranking li.top3 { background:#CD7F32; color:#fff; }   
#ranking li.animate { transform: scale(1.1); animation: pulse 0.5s ease-in-out; }
@keyframes pulse { 0% { transform: scale(1); } 50% { transform: scale(1.2); } 100% { transform: scale(1); } }
</style>
</head>
<body>

<header>üåç √ÅguaF√°cil e Descarte Limpo</header>

<!-- LOGIN -->
<div id="login">
  <h1>Bem-vindo! Cadastre-se para jogar</h1>
  <input type="text" id="nome" placeholder="Digite seu nome">
  <input type="text" id="sobrenome" placeholder="Digite seu sobrenome">
  <button onclick="cadastrar()">Cadastrar / Jogar</button>
  <p>Acesse nosso outro projeto: descarte consciente. <a href="" target="_blank">Clique aqui</a></p>
</div>

<!-- MENU -->
<div id="menu" style="display:none;">
  <h1>Escolha um jogo</h1>
  <button onclick="iniciarQuiz()">üìù Quiz</button>
  <button onclick="iniciarMemoria()">üÉè Jogo da Mem√≥ria</button>
  <button onclick="iniciarCorrida()">üèÉ‚Äç‚ôÇÔ∏è Corrida de Palavras</button>
</div>

<!-- QUIZ -->
<div id="quiz" style="display:none;">
  <h2>‚ôªÔ∏è Quiz: Descarte Consciente</h2>
  <div id="quiz-container"></div>
  <p id="pontuacao">Pontua√ß√£o: 0</p>
</div>

<!-- MEM√ìRIA -->
<div id="memoria" style="display:none;">
  <h2>üÉè Jogo da Mem√≥ria</h2>
  <div id="cartas"></div>
  <p id="pontuacao-memoria">Pontua√ß√£o: 0</p>
</div>

<!-- CORRIDA DE PALAVRAS -->
<div id="corrida" style="display:none;">
  <h2>üèÉ‚Äç‚ôÇÔ∏è Corrida de Palavras: Clique nas recicl√°veis!</h2>
  <div id="itens-corrida"></div>
  <p id="pontuacao-corrida">Pontua√ß√£o: 0</p>
  <p id="erros-corrida">Erros: 0</p>
  <p id="tempo-corrida">Tempo restante: 60s</p>
</div>

<!-- RANKING -->
<div id="ranking" style="display:none;">
  <h2>üèÜ Ranking dos Jogadores</h2>
  <ul id="lista-ranking"></ul>
</div>

<script>
// ===== CADASTRO =====
let jogadorAtual = null;
function cadastrar(){
  const nome = document.getElementById('nome').value.trim();
  const sobrenome = document.getElementById('sobrenome').value.trim();
  if(!nome || !sobrenome){ alert("Preencha nome e sobrenome!"); return; }

  let ranking = JSON.parse(localStorage.getItem('ranking')) || [];
  const existe = ranking.find(j => j.nome === nome && j.sobrenome === sobrenome);
  if(existe){ alert("Nome e sobrenome j√° cadastrados!"); return; }

  jogadorAtual = { nome, sobrenome, total:0, quiz:0, memoria:0, corrida:0 };
  ranking.push(jogadorAtual);
  localStorage.setItem('ranking', JSON.stringify(ranking));
  localStorage.setItem('jogadorAtual', JSON.stringify(jogadorAtual));

  document.getElementById('login').style.display='none';
  document.getElementById('menu').style.display='block';
  mostrarRanking();
}

// ===== RANKING =====
function mostrarRanking(){
  let ranking = JSON.parse(localStorage.getItem('ranking')) || [];
  const index = ranking.findIndex(j => j.nome === jogadorAtual.nome && j.sobrenome === jogadorAtual.sobrenome);
  if(index >= 0) ranking[index] = jogadorAtual; else ranking.push(jogadorAtual);

  ranking.sort((a,b) => b.total - a.total);
  localStorage.setItem('ranking', JSON.stringify(ranking));

  document.getElementById('ranking').style.display='block';
  const lista = document.getElementById('lista-ranking');
  lista.innerHTML='';
  ranking.forEach((j, i)=>{
    const li = document.createElement('li');
    li.textContent = `${j.nome} ${j.sobrenome} - Total: ${j.total} (Quiz: ${j.quiz}, Mem√≥ria: ${j.memoria}, Corrida: ${j.corrida})`;
    if(i===0) li.classList.add('top1');
    if(i===1) li.classList.add('top2');
    if(i===2) li.classList.add('top3');
    lista.appendChild(li);
  });
}

// ===== MENU =====
function mostrar(jogo){
  document.getElementById('quiz').style.display='none';
  document.getElementById('memoria').style.display='none';
  document.getElementById('corrida').style.display='none';
  document.getElementById(jogo).style.display='block';
}

// ===== QUIZ =====
let quizPerguntas = [
  {q:"O que pode ser reciclado?", op:["Lixo comum","Papel","Casca de fruta"], r:1},
  {q:"Qual material N√ÉO √© recicl√°vel?", op:["Pl√°stico","Vidro","Areia"], r:2},
  {q:"Qual √© o destino correto do vidro?", op:["Lixo comum","Reciclagem","Queimar"], r:1},
  {q:"Qual destes metais √© recicl√°vel?", op:["Ferro","Areia","Madeira"], r:0},
  {q:"O que fazer com pilhas usadas?", op:["Jogar no lixo","Levar para ponto de coleta","Enterrar"], r:1},
  {q:"Pl√°stico PET deve ir para?", op:["Lixo comum","Reciclagem","Compostagem"], r:1},
  {q:"Vidros quebrados devem ser?", op:["Lixo comum","Reciclagem","Jogado na rua"], r:1},
  {q:"O que √© compostagem?", op:["Transformar org√¢nicos em adubo","Queimar res√≠duos","Enterrar lixo"], r:0},
  {q:"√ìleo de cozinha usado deve ser?", op:["Jogado na pia","Reciclado","Queimado"], r:1},
  {q:"Qual destes N√ÉO √© org√¢nico?", op:["Casca de banana","Pl√°stico","Folha"], r:1},
  {q:"Qual √© o impacto do lixo no rio?", op:["Polui√ß√£o","Purifica√ß√£o","N√£o afeta"], r:0},
  {q:"O que √© lixo eletr√¥nico?", op:["Celulares e computadores","Restos de comida","Pl√°stico"], r:0},
  {q:"Reciclar papel ajuda a?", op:["Salvar √°rvores","Aumentar polui√ß√£o","Nada"], r:0},
  {q:"Como reduzir lixo?", op:["Reutilizar e reciclar","Jogar tudo fora","Queimar"], r:0},
  {q:"Baterias devem ir para?", op:["Lixo comum","Ponto de coleta","Enterrado"], r:1},
  {q:"Qual item √© recicl√°vel?", op:["Lata de alum√≠nio","Pneu usado","Vidro quebrado"], r:0},
  {q:"Res√≠duos org√¢nicos v√£o para?", op:["Compostagem","Reciclagem","Lixeira comum"], r:0},
  {q:"O que √© lixo org√¢nico?", op:["Restos de comida","Pl√°stico","Vidro"], r:0},
  {q:"O que n√£o se deve jogar no lixo comum?", op:["Pl√°stico recicl√°vel","Restos de comida","Papel usado"], r:0},
  {q:"Qual a√ß√£o ajuda o meio ambiente?", op:["Reciclar","Queimar lixo","Jogar tudo no ch√£o"], r:0},
];
let pontuacaoQuiz = 0;
let perguntaAtual = 0;

function iniciarQuiz(){
  mostrar('quiz');
  pontuacaoQuiz = 0;
  perguntaAtual = 0;
  mostrarPergunta();
}

function mostrarPergunta(){
  const container = document.getElementById('quiz-container');
  container.innerHTML = '';

  if(perguntaAtual >= quizPerguntas.length){
    alert("Quiz finalizado! Pontua√ß√£o: " + pontuacaoQuiz);
    jogadorAtual.quiz = pontuacaoQuiz;
    jogadorAtual.total = jogadorAtual.quiz + jogadorAtual.memoria + jogadorAtual.corrida;
    localStorage.setItem('jogadorAtual', JSON.stringify(jogadorAtual));
    mostrarRanking();
    return;
  }

  const p = quizPerguntas[perguntaAtual];
  const divPergunta = document.createElement('div');
  divPergunta.className = 'quiz-question';
  divPergunta.textContent = p.q;
  container.appendChild(divPergunta);

  p.op.forEach((opcao, idx)=>{
    const btn = document.createElement('div');
    btn.className = 'quiz-option';
    btn.textContent = opcao;
    btn.onclick = ()=>{
      if(idx === p.r){ btn.style.background='green'; pontuacaoQuiz++; } 
      else { btn.style.background='red'; }
      jogadorAtual.quiz = pontuacaoQuiz;
      jogadorAtual.total = jogadorAtual.quiz + jogadorAtual.memoria + jogadorAtual.corrida;
      localStorage.setItem('jogadorAtual', JSON.stringify(jogadorAtual));
      mostrarRanking();

      setTimeout(()=>{
        perguntaAtual++;
        mostrarPergunta();
      },500);
    };
    container.appendChild(btn);
  });

  document.getElementById('pontuacao').textContent = 'Pontua√ß√£o: ' + pontuacaoQuiz;
}

// ===== MEM√ìRIA =====
const cartasValores = ["Papel","Vidro","Pl√°stico","Bateria","celular","Papel","Vidro","Pl√°stico","Bateria","celular"];
let primeiraCarta = null, segundaCarta = null, pontuacaoMemoria = 0, travarMemoria=false;

function iniciarMemoria(){
  mostrar('memoria');
  pontuacaoMemoria = 0;
  primeiraCarta = null;
  segundaCarta = null;
  travarMemoria = false;

  const container = document.getElementById('cartas');
  container.innerHTML = '';
  let arr = [...cartasValores].sort(()=>0.5 - Math.random());

  arr.forEach(v=>{
    const div = document.createElement('div'); 
    div.className = 'cart'; 
    div.textContent = '?'; 
    div.dataset.valor = v;
    div.onclick = ()=>virarCarta(div);
    container.appendChild(div);
  });

  document.getElementById('pontuacao-memoria').textContent = 'Pontua√ß√£o: 0';
}

function virarCarta(div){
  if(travarMemoria || div.textContent !== '?' || div.classList.contains('correct')) return;

  div.textContent = div.dataset.valor;

  if(!primeiraCarta){ primeiraCarta = div; return; }
  segundaCarta = div;
  travarMemoria = true;

  setTimeout(()=>{
    if(primeiraCarta.dataset.valor === segundaCarta.dataset.valor){
      primeiraCarta.classList.add('correct');
      segundaCarta.classList.add('correct');
      pontuacaoMemoria++;
    } else {
      primeiraCarta.classList.add('wrong');
      segundaCarta.classList.add('wrong');
      setTimeout(()=>{
        primeiraCarta.textContent='?';
        segundaCarta.textContent='?';
        primeiraCarta.classList.remove('wrong');
        segundaCarta.classList.remove('wrong');
      },300);
    }

    document.getElementById('pontuacao-memoria').textContent = 'Pontua√ß√£o: ' + pontuacaoMemoria;
    jogadorAtual.memoria = pontuacaoMemoria;
    jogadorAtual.total = jogadorAtual.quiz + jogadorAtual.memoria + jogadorAtual.corrida;
    localStorage.setItem('jogadorAtual', JSON.stringify(jogadorAtual));
    mostrarRanking();

    primeiraCarta=null; segundaCarta=null; travarMemoria=false;
  },300);
}

// ===== CORRIDA DE PALAVRAS =====
const palavras = [
  {texto:"Papel", correta:true}, {texto:"Vidro", correta:true}, {texto:"Pl√°stico", correta:true},
  {texto:"Bateria", correta:true}, {texto:"Casca de Banana", correta:true},
  {texto:"Lixo Comum", correta:false}, {texto:"Saco de Lixo", correta:false}, {texto:"Pedra", correta:false},
  {texto:"Areia", correta:false}, {texto:"Metal", correta:false}
];
let palavrasCorrida = [];
let pontuacaoCorrida = 0;
let errosCorrida = 0;
let tempoCorrida = 60;
let intervaloPalavra, intervaloMovimento, intervaloTempo;

function iniciarCorrida(){
  mostrar('corrida');
  document.getElementById('itens-corrida').innerHTML='';
  palavrasCorrida = []; pontuacaoCorrida=0; errosCorrida=0; tempoCorrida=60;
  atualizarCorrida();

  intervaloPalavra = setInterval(adicionarPalavra,1000);
  intervaloMovimento = setInterval(moverPalavras,50);
  intervaloTempo = setInterval(()=>{
    tempoCorrida--;
    document.getElementById('tempo-corrida').textContent = 'Tempo restante: '+tempoCorrida+'s';
    if(tempoCorrida<=0){ clearInterval(intervaloPalavra); clearInterval(intervaloMovimento); clearInterval(intervaloTempo); alert("Corrida finalizada! Pontua√ß√£o: "+pontuacaoCorrida); jogadorAtual.corrida=pontuacaoCorrida; jogadorAtual.total=jogadorAtual.quiz+jogadorAtual.memoria+jogadorAtual.corrida; localStorage.setItem('jogadorAtual', JSON.stringify(jogadorAtual)); mostrarRanking(); }
  },1000);
}

function adicionarPalavra(){
  const idx = Math.floor(Math.random()*palavras.length);
  const p = {...palavras[idx], top:0, left:Math.random()*400};
  palavrasCorrida.push(p);

  const div = document.createElement('div');
  div.className='cart';
  div.style.top=p.top+'px';
  div.style.left=p.left+'px';
  div.textContent=p.texto;
  div.onclick = ()=>{ 
    if(p.correta){ pontuacaoCorrida++; }
    else { errosCorrida++; }
    palavrasCorrida = palavrasCorrida.filter(x=>x!==p);
    div.remove();
    atualizarCorrida();
  };
  document.getElementById('itens-corrida').appendChild(div);
}

function moverPalavras(){
  const container = document.getElementById('itens-corrida');
  Array.from(container.children).forEach((div,i)=>{
    let p = palavrasCorrida[i];
    p.top +=2;
    if(p.top>300){ div.remove(); palavrasCorrida.splice(i,1); errosCorrida++; }
    else div.style.top=p.top+'px';
  });
  atualizarCorrida();
}

function atualizarCorrida(){
  document.getElementById('pontuacao-corrida').textContent='Pontua√ß√£o: '+pontuacaoCorrida;
  document.getElementById('erros-corrida').textContent='Erros: '+errosCorrida;
}
</script>

</body>
</html>
